<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>modify</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-3">
    <h2>수정</h2>
    <form action="/student/modify" method="post">
        <div class="mb-3 mt-3">
            <label for="sno">번호:</label>
            <input type="text" class="form-control" th:value="${studentDTO.sno}" id="sno" name="sno" readonly>
        </div>


        <div class="mb-3 mt-3">
            <label for="name">이름:</label>
            <input type="text" class="form-control" th:value="${studentDTO.name}" id="name"  name="name" >
        </div>
        <div class="mb-3 mt-3">
            <label for="level">학년:</label>
            <input type="text" class="form-control" th:value="${studentDTO.level}" id="level"  name="level" >
        </div>
        <div class="mb-3 mt-3">
            <label for="classnum">학급:</label>
            <input type="text" class="form-control" th:value="${studentDTO.classnum}" id="classnum"  name="classnum" >
        </div>
        <div class="mb-3 mt-3">
            <label for="score">성적:</label>
            <input type="text" class="form-control" th:value="${studentDTO.score}" id="score"  name="score" >
        </div>
        <div class="mb-3 mt-3">
            <label for="grade">상벌점:</label>
            <input type="text" class="form-control" th:value="${studentDTO.grade}" id="grade"  name="grade" >
        </div>
        <div class="mb-3 mt-3">
            <label for="phone">전화번호:</label>
            <input type="text" class="form-control" th:value="${studentDTO.phone}" id="phone"  name="phone" >
        </div>
        <div class="mb-3 mt-3">
            <label for="phone2">비상연락망:</label>
            <input type="text" class="form-control" th:value="${studentDTO.phone2}" id="phone2"  name="phone2" >
        </div>
        <div class="mb-3 mt-3">
            <label for="birthdate">생년월일:</label>
            <input type="text" class="form-control" th:value="${studentDTO.birthdate}" id="birthdate"  name="birthdate" >
        </div>
        <div class="mb-3 mt-3">
            <label for="comment">비고:</label>
            <input type="text" class="form-control" th:value="${studentDTO.comment}" id="comment"  name="comment" >
        </div>




        <button type="button" class="btn btn-outline-info listBtn">리스트</button>
        <button type="button" class="btn btn-outline-warning modBtn">저장</button>
        <button type="button" class="btn btn-outline-danger removeBtn">삭제</button>


    </form>
</div>

<script th:inline="javascript">

    const link = [[${pageRequestDTO.getLink()}]];
    const formObj = document.querySelector("form");

    document.querySelector(".modBtn").addEventListener("click", function (e){
        e.preventDefault();
        e.stopPropagation();
        formObj.action = "/student/modify?"+link;
        console.log(formObj);
        formObj.submit();
    });

    document.querySelector(".removeBtn").addEventListener("click", function (e) {
        e.preventDefault();
        e.stopPropagation();
        formObj.action = "/student/remove";
        formObj.method = "post";
        formObj.submit();
    });


    document.querySelector(".listBtn").addEventListener("click", function (e) {
        e.preventDefault();
        e.stopPropagation();

        self.location = '/student/list';
    });
</script>


</body>
</html>